"use strict";angular.module("shirtsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{redirectTo:"login"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/catalog",{templateUrl:"views/catalogShirt.html",controller:"catalogShirtCtrl"}).when("/catalog/:productId",{templateUrl:"views/productDetail.html",controller:"productDetailCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"loginController"}).otherwise({redirectTo:"/"})}]),angular.module("shirtsApp").factory("serviceA",["Base64","$http","$cookieStore","$rootScope","$timeout",function(a,b,c,d,e){return{Login:function(a,b){e(function(){var c={success:"test@test"===a.user&&"test"===a.password};c.success||(c.message="Usuario o contraseÃ±a son incorrectas"),b(c)},1e3)},SetCredentials:function(e){var f=a.encode(e.username+":"+e.password);d.globals={currentUser:{username:e.username,authdata:e.authdata}},b.defaults.headers.common.Authorization="Basic "+f,c.put("globals",d.globals)},ClearCredentials:function(){d.globals={},c.remove("globals"),b.defaults.headers.common.Authorization="Basic "}}}]).factory("Base64",function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!=g&&(h+=String.fromCharCode(d)),64!=j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}}),angular.module("shirtsApp").controller("MainCtrl",["$scope",function(){}]),angular.module("shirtsApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("shirtsApp").controller("catalogShirtCtrl",["$scope",function(a){a.size={status:{open:!0},values:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}]},a.genre={status:{open:!0},values:[{name:"male",display:"Hombre"},{name:"female",display:"Mujer"},{name:"unisex",display:"Unisex"}]},a.type={status:{open:!0},values:[{name:"clasica",display:"Clasica"},{name:"cuelloV",display:"Cuello V"},{name:"mangaLarga",display:"Manga Larga"},{name:"esqueleto",display:"Esqueleto"}]},a.color={status:{open:!0},values:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"},{name:"blanco",code:"#FFFFFF"},{name:"verde",code:"#009933"},{name:"negro",code:"#000000"},{name:"naranja",code:"#FF9900"},{name:"marron",code:"#663300"},{name:"magenta",code:"#FF66FF"},{name:"verde claro",code:"#00CC00"},{name:"amarillo",code:"#FFCC00"},{name:"lila",code:"#6600CC"}]},a.price={status:{open:!0},min:0,max:0},a.filters={genre:{male:!1,female:!1,unisex:!0},size:{small:!1,medium:!1,large:!1,xlarge:!1},type:{clasica:!0,cuelloV:!1,mangaLarga:!1,esqueleto:!1},color:"",price:{min:0,max:0},searchBox:""},a.filterFuction=function(b){return""!=a.filters.searchBox?b.keyWords.indexOf(a.filters.searchBox)>-1:!0},a.viewOptions={viewMode:"list",sortBy:""},a.products={total:5,products:[{productId:"0000001",name:"Camiseta de James",price:"80.000",averageRating:4,ratings:48,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:"5",imgUrl:"http://www.realmadridjerseyspro.com/images/real_madrid/fc-real-madrid_267.jpg",keyWords:["james","real madrid","futbol"]},{productId:"0000002",name:"Camiseta de Falcao",price:"85.000",averageRating:5,ratings:25,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:0,imgUrl:"http://www.sportarena.gr/Uploads/Product-Images/17841/Manchester_Utd_1415_home_FALCAO_611031_624_b_s_b1.jpg",keyWords:["falcao","manchester","9","futbol"]},{productId:"0000003",name:"Camiseta de Cuadrado",price:"82.000",averageRating:"4.7",ratings:48,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:0,imgUrl:"http://www.soccerofficialonline.com/images/products/soccer_jerseys/club/chelsea/fc-chelsea_595.jpg",keyWords:["cuadrado","chelsea","futbol","23"]}]}}]),angular.module("shirtsApp").controller("productDetailCtrl",["$scope","$routeParams",function(a,b){a.productId=b.productId,"0000001"==a.productId&&(a.productInfo={productId:"0000001",name:"Camiseta de James",price:"80.000",averageRating:4,ratings:48,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:"5",imgUrl:"http://www.realmadridjerseyspro.com/images/real_madrid/fc-real-madrid_267.jpg",images:[{image:"http://image-load-balancer.worldsportshops.com/Images/watermarked_thumbnail.aspx?img=71063~JAMES~10.RE02&photoNum=T1&t=I&catalog=Soccer&w=600&h=600",text:"Frente"},{image:"http://image-load-balancer.worldsportshops.com/Images/watermarked_thumbnail.aspx?img=71063~JAMES~10&photoNum=1&t=I&catalog=Soccer&w=600&h=600",text:"Espalda"}],keyWords:["james","real madrid","futbol"]}),"0000002"==a.productId&&(a.productInfo={productId:"0000002",name:"Camiseta de Falcao",price:"85.000",averageRating:5,ratings:25,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:0,imgUrl:"http://www.sportarena.gr/Uploads/Product-Images/17841/Manchester_Utd_1415_home_FALCAO_611031_624_b_s_b1.jpg",images:[{image:"http://image-load-balancer.worldsportshops.com/Datafeeds/Graphics/Products/ImageCache/600x600/66368~FALCAO~9.RE02.jpg",text:"Frente"},{image:"http://image-load-balancer.worldsportshops.com/Datafeeds/Graphics/Products/ImageCache/600x600/66368~FALCAO~9.jpg",text:"Espalda"}],keyWords:["falcao","manchester","9","futbol"]}),"0000003"==a.productId&&(a.productInfo={productId:"0000003",name:"Camiseta de Cuadrado",price:"82.000",averageRating:"4.7",ratings:48,availableColors:[{name:"rojo",code:"#A10000"},{name:"azul rey",code:"#3399FF"},{name:"azul",code:"#000080"}],availableSizes:[{name:"small",display:"S"},{name:"medium",display:"M"},{name:"large",display:"L"},{name:"xlarge",display:"XL"}],shippingPrice:0,imgUrl:"http://www.soccerofficialonline.com/images/products/soccer_jerseys/club/chelsea/fc-chelsea_595.jpg",images:[{image:"http://image-load-balancer.worldsportshops.com/Images/watermarked_thumbnail.aspx?img=92151&photoNum=1&t=I&catalog=Soccer&w=600&h=600",text:"Frente"},{image:"http://image-load-balancer.worldsportshops.com/Images/watermarked_thumbnail.aspx?img=92151~CUADRADO~23&photoNum=1&t=I&catalog=Soccer&w=600&h=600",text:"Espalda"}],keyWords:["cuadrado","chelsea","futbol","23"]}),a.productOrder={productId:a.productId,selectedColor:{name:"",code:""},selectedSize:{name:""}}}]),angular.module("shirtsApp").controller("loginController",["$scope","$rootScope","$routeParams","$location","serviceA",function(a,b,c,d,e){c.authenticated=!1,a.loginForm={},a.registerForm={},e.ClearCredentials(),a.login=function(b){console.log(d),a.dataLoading=!0,e.Login(b,function(f){f.success?(console.log("login responsed"+JSON.stringify(f)),e.SetCredentials(b),c.authenticated=!0,d.path("/catalog")):(console.log("login failed"+JSON.stringify(f)),a.error=f.message,a.dataLoading=!1,console.log("error"))})},a.getFieldCssClass=function(a){return a.$pristine?"":a.$valid?"valid-field":"invalid-field"}}]),angular.module("shirtsApp").directive("catalogItem",function(){return{restrict:"EAC",template:'<ng-include src="getTemplateUrl()"/>',scope:{product:"=product",viewMode:"=viewMode"},link:function(a){a.getTemplateUrl=function(){return"grid"==a.viewMode?"/scripts/directives/templates/productGridItem.html":"list"==a.viewMode?"/scripts/directives/templates/productListItem.html":void 0}}}});