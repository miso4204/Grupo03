'use strict';

angular.module('webAppApp')
  .controller('ProductsCtrl', function ($scope,Cart,$rootScope,sessionStorage,Product) {
  	$rootScope.globals={};

	if (sessionStorage.get("user")) {
      $rootScope.globals.currentUser=sessionStorage.get("user");
      if(sessionStorage.get("products")){
          $rootScope.products=sessionStorage.get("products");
      }
    }
    //$scope.products=[{"stampId":1,"userId":1,"price":20000.0,"shippingPrice":5000.0,"color":"RED","rating":null,"text":null,"size":"S","url":"http://i.imgur.com/UTpxQpN.png"},{"stampId":2,"userId":3,"price":200000.0,"shippingPrice":7000.0,"color":null,"rating":null,"text":null,"id":2,"size":"M","url":"URL"},{"stampId":null,"userId":3,"price":200000.0,"shippingPrice":7000.0,"color":null,"rating":null,"text":null,"id":3,"size":"M","url":"URL"},{"stampId":null,"userId":3,"price":200000.0,"shippingPrice":7000.0,"color":null,"rating":null,"text":null,"id":4,"size":"M","url":"URL"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":5,"size":"M","url":"http://i.imgur.com/UTpxQpN.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":6,"size":"M","url":"http://i.imgur.com/UTpxQpN.png"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":7,"size":"M","url":"http://i.imgur.com/UTpxQpN.png"},{"stampId":null,"userId":3,"price":157000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":8,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":200000.0,"shippingPrice":7000.0,"color":null,"rating":null,"text":null,"id":9,"size":"M","url":"URL"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":10,"size":"XL","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":157000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":11,"size":"S","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":157000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":12,"size":"S","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":13,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":14,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":15,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":3,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":16,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":17,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":18,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":19,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":20,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":21,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":22,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":23,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":24,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":25,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":26,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":27,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":28,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":160000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":29,"size":"M","url":"https://upload.wikimedia.org/wikipedia/en/thumb/d/df/2016_Summer_Olympics_logo.svg/812px-2016_Summer_Olympics_logo.svg.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":30,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":31,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":32,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":15000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":33,"size":"M","url":"https://i.imgur.com/mgkcT4G.png"},{"stampId":null,"userId":1,"price":21000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":34,"size":"M","url":"http://i.imgur.com/KZQwhy6.png"},{"stampId":null,"userId":1,"price":35000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":39,"size":"M","url":"http://i.imgur.com/8udoQeR.jpg"},{"stampId":null,"userId":1,"price":27000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":40,"size":"M","url":"http://i.imgur.com/8rw38S1.jpg"},{"stampId":null,"userId":1,"price":23000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":41,"size":"M","url":"http://i.imgur.com/pZuzH0G.png"},{"stampId":null,"userId":3,"price":25000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":42,"size":"M","url":"http://i.imgur.com/jjgdhI7.png"},{"stampId":null,"userId":1,"price":21000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":49,"size":"M","url":"http://i.imgur.com/KZQwhy6.png"},{"stampId":null,"userId":1,"price":26000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":50,"size":"M","url":"http://i.imgur.com/ULbYZRU.png"},{"stampId":null,"userId":1,"price":24000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":51,"size":"M","url":"http://i.imgur.com/5USfsS1.png"},{"stampId":null,"userId":1,"price":21000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":52,"size":"M","url":"http://i.imgur.com/KZQwhy6.png"},{"stampId":null,"userId":3,"price":21000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":55,"size":"M","url":"http://i.imgur.com/KZQwhy6.png"},{"stampId":null,"userId":3,"price":17000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":56,"size":"M","url":"http://i.imgur.com/oEDyAD1.png"},{"stampId":null,"userId":3,"price":40000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":57,"size":"M","url":"http://i.imgur.com/movGejb.png"},{"stampId":null,"userId":3,"price":17000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":58,"size":"M","url":"http://i.imgur.com/oEDyAD1.png"},{"stampId":null,"userId":3,"price":23000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":60,"size":"M","url":"http://i.imgur.com/EBFsjta.png"},{"stampId":null,"userId":1,"price":40000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":61,"size":"M","url":"http://i.imgur.com/movGejb.png"},{"stampId":null,"userId":10,"price":25000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":62,"size":"M","url":"http://i.imgur.com/jjgdhI7.png"},{"stampId":null,"userId":10,"price":25000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":63,"size":"M","url":"http://i.imgur.com/jjgdhI7.png"},{"stampId":null,"userId":10,"price":65000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":64,"size":"M","url":"http://i.imgur.com/R0WFlpe.png"},{"stampId":null,"userId":10,"price":65000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":65,"size":"M","url":"http://i.imgur.com/R0WFlpe.png"},{"stampId":null,"userId":1,"price":65000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":66,"size":"M","url":"http://i.imgur.com/duAtKhQ.png"},{"stampId":null,"userId":1,"price":26000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":67,"size":"M","url":"http://i.imgur.com/ULbYZRU.png"},{"stampId":null,"userId":1,"price":43000.0,"shippingPrice":5000.0,"color":null,"rating":null,"text":null,"id":68,"size":"M","url":"http://i.imgur.com/XcM4kTu.png"}]
    	
    var result =[];
    result= Product.query(
      function(){
        $scope.products=result;
      }
    );

    $scope.viewOptions={
		viewMode:'grid',
		sortBy:'',
	}
	$scope.colors=['#FF3333', '#0033CC', '#FFFFFF', '#000000', '#33AD5C', '#FFD119', '#7519D1' ];
	$scope.getRandColor= function(){
		var rand = $scope.colors[Math.floor(Math.random() * $scope.colors.length)];
		console.log(rand);
		return rand;
	}
	
  });


